{:tpximpact.datahost.ldapi.jetty/http-port #int #or [#env "LD_API_HTTP_PORT" "3400"]
 :tpximpact.datahost.ldapi.native-datastore.repo/data-directory #or [#env "LD_API_TEST_DATA_DIR" "./tmp/ld-test-db"]
 :tpximpact.datahost.ldapi.store.sql/db-config {:spec "jdbc:sqlite::memory:"
                                                :user "SA"
                                                :password ""}

 ;; test rdf-base-uri intentionally uses a weird value that doesn't include `data`
 ;; in order to prove that RDF URIs are not necessarily tied to routing.
 :tpximpact.datahost.system-uris/uris {:rdf-base-uri #uri "http://localhost:3400/data/"}

 :tpximpact.datahost.ldapi.test/http-client
 {:port #ig/ref :tpximpact.datahost.ldapi.jetty/http-port}

 :tpximpact.datahost.ldapi.native-datastore/repo 
 {:data-directory #ig/ref :tpximpact.datahost.ldapi.native-datastore.repo/data-directory}

 :tpximpact.datahost.ldapi.store.temp-file-store/store {}

 :tpximpact.datahost.ldapi.router/handler
 {:change-store #ig/ref :tpximpact.datahost.ldapi.store.temp-file-store/store}
 
 :tpximpact.datahost.ldapi.test/sqlite-connection
 {:db-config #ig/ref :tpximpact.datahost.ldapi.store.sql/db-config}

 :tpximpact.datahost.ldapi.store.sql/store-factory
 {:db-config #ig/ref :tpximpact.datahost.ldapi.store.sql/db-config
  :connection #ig/ref :tpximpact.datahost.ldapi.test/sqlite-connection
  :data-source #ig/ref :tpximpact.datahost.ldapi.test/data-source
  :db-executor #ig/ref :tpximpact.datahost.ldapi.store.sql/executor}

 :tpximpact.datahost.ldapi.test/data-source
 {:connection #ig/ref :tpximpact.datahost.ldapi.test/sqlite-connection}
 
 :tpximpact.datahost.ldapi.test/sql-db
 {:db-config #ig/ref :tpximpact.datahost.ldapi.store.sql/db-config
  :store-factory #ig/ref :tpximpact.datahost.ldapi.store.sql/store-factory
  :connection #ig/ref :tpximpact.datahost.ldapi.test/sqlite-connection
  :db-executor #ig/ref :tpximpact.datahost.ldapi.store.sql/executor
  :data-source #ig/ref :tpximpact.datahost.ldapi.test/data-source}

 ;; method for this key will create the necessary tables
 ;; and make them available for test
 :tpximpact.datahost.ldapi.models.release/common-tables
 {:db {:db-config #ig/ref :tpximpact.datahost.ldapi.store.sql/db-config
       :db-executor #ig/ref :tpximpact.datahost.ldapi.store.sql/executor
       :data-source #ig/ref :tpximpact.datahost.ldapi.test/data-source}}}
